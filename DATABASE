create table users(
id int auto_increment primary key,
username varchar(255),
password varchar(255),
coins INT DEFAULT 0);

CREATE TABLE leaderboard (
entry_id INT AUTO_INCREMENT PRIMARY KEY,
user_id INT,
highest_score INT,
average_wpm FLOAT,
average_accuracy FLOAT,
FOREIGN KEY (user_id) REFERENCES users (id)
);

CREATE TABLE game_results (
game_id INT AUTO_INCREMENT PRIMARY KEY,
user_id INT,
score INT,
wpm FLOAT,
accuracy FLOAT,
played_at DATETIME,
FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE store_items (
item_id INT AUTO_INCREMENT PRIMARY KEY,
item_name VARCHAR(255),
item_description VARCHAR(500),
price INT
); 

INSERT INTO store_items (item_name, item_description, price)
VALUES ('Xtra Life', 'The user will be given another chance to continue the game.', 10);

CREATE TABLE user_purchases (
purchase_id INT AUTO_INCREMENT PRIMARY KEY,
user_id INT,
item_id INT,
purchased_at DATETIME,
FOREIGN KEY (user_id) REFERENCES users(id),
FOREIGN KEY (item_id) REFERENCES store_items(item_id)
);

CREATE TABLE user_inventory (
inventory_id INT AUTO_INCREMENT PRIMARY KEY,
user_id INT,
item_id INT,
quantity INT DEFAULT 0,
FOREIGN KEY (user_id) REFERENCES users(id),
FOREIGN KEY (item_id) REFERENCES store_items(item_id)
);
